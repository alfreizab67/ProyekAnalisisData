import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
import streamlit as st

def create_daily_orders_df(df):
    daily_orders_df = df.resample(rule='D', on='order_date').agg({
        "order_id": "nunique",
        "total_price": "sum"
    })
    daily_orders_df = daily_orders_df.reset_index()
    daily_orders_df.rename(columns={
        "order_id": "order_count",
        "total_price": "revenue"
    }, inplace=True)
    
    return daily_orders_df

def create_sum_order_items_df(df):
    sum_order_items_df = df.groupby("product_name").quantity_x.sum().sort_values(ascending=False).reset_index()
    return sum_order_items_df

def create_bygender_df(df):
    bygender_df = df.groupby(by="gender").customer_id.nunique().reset_index()
    bygender_df.rename(columns={
        "customer_id": "customer_count"
    }, inplace=True)
    
    return bygender_df

def create_byage_df(df):
    byage_df = df.groupby(by="age_group").customer_id.nunique().reset_index()
    byage_df.rename(columns={
        "customer_id": "customer_count"
    }, inplace=True)
    byage_df['age_group'] = pd.Categorical(byage_df['age_group'], ["Youth", "Adults", "Seniors"])
    
    return byage_df

def create_bystate_df(df):
    bystate_df = df.groupby(by="state").customer_id.nunique().reset_index()
    bystate_df.rename(columns={
        "customer_id": "customer_count"
    }, inplace=True)
    
    return bystate_df

def create_rfm_df(df):
    rfm_df = df.groupby(by="customer_id", as_index=False).agg({
        "order_date": "max", #mengambil tanggal order terakhir
        "order_id": "nunique",
        "total_price": "sum"
    })
    rfm_df.columns = ["customer_id", "max_order_timestamp", "frequency", "monetary"]
    
    rfm_df["max_order_timestamp"] = rfm_df["max_order_timestamp"].dt.date
    recent_date = df["order_date"].dt.date.max()
    rfm_df["recency"] = rfm_df["max_order_timestamp"].apply(lambda x: (recent_date - x).days)
    rfm_df.drop("max_order_timestamp", axis=1, inplace=True)
    
    return rfm_df

jam_df = pd.read_csv("main_data.csv")

st.header('Toko Sepeda Bahagia :sparkles:')

with st.sidebar:
    # Menambahkan logo perusahaan
    st.image("data:image/jpeg;base64,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")


# HISTOGRAM 1
st.title("Total Penyewa Berdasarkan Musim")
fig, ax = plt.subplots(figsize=(20, 10))
colors = ["#90CAF9", "#D3D3D3", "#D3D3D3", "#D3D3D3", "#D3D3D3", "#D3D3D3", "#D3D3D3", "#D3D3D3"]
sns.barplot(
    x="season", 
    y="cnt",
    data=jam_df.sort_values(by="season", ascending=False),
    ax=ax
)
ax.set_title("Pengaruh Kondisi Musim Terhadap Penyewa Sepeda", loc="center", fontsize=30)
ax.set_ylabel("Total Penyewaan", fontsize="20")
ax.set_xlabel("Musim", fontsize="20")
ax.tick_params(axis='y', labelsize=20)
ax.tick_params(axis='x', labelsize=15)
plt.xticks(ticks=[0, 1, 2, 3], labels=["Spring", "Summer", "Fall", "Winter"])
st.pyplot(fig)

# HISTOGRAM 2
st.title("Total Penyewa Per Bulan")
fig, ax = plt.subplots(figsize=(20, 10))
colors = ["#90CAF9", "#D3D3D3", "#D3D3D3", "#D3D3D3", "#D3D3D3", "#D3D3D3", "#D3D3D3", "#D3D3D3"]
sns.barplot(
    x="mnth", 
    y="cnt",
    data=jam_df.sort_values(by="season", ascending=False),
    ax=ax
)
ax.set_title("Total Penyewa Sepeda Per Bulan dalam 1 Tahun", loc="center", fontsize=30)
ax.set_ylabel("Total Penyewaan", fontsize="20")
ax.set_xlabel("Bulan", fontsize="20")
ax.tick_params(axis='y', labelsize=20)
ax.tick_params(axis='x', labelsize=15)
plt.xticks(ticks=[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], labels=["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul", "Agus", "Sept","Okt", "Nov", "Des"])
st.pyplot(fig)

